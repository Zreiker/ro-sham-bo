<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Roshambo</title>
</head>
<body>
  <script>
    const win = 0;
    const lose = 1;

    function computerPlay() {
      const choices = ["Rock", "Paper", "Scissors"];
      return choices[Math.floor(Math.random() * 3)];
    }

    function playRound(playerSelection, computerSelection) {
      let playerSelectionUpper = playerSelection.toUpperCase();
      let computerSelectionUpper = computerSelection.toUpperCase();

      if (playerSelectionUpper === computerSelectionUpper)
        return `Tie! ${playerSelection} ties with ${computerSelection}`;
      if (playerSelectionUpper === "ROCK") {
        if (computerSelectionUpper === "SCISSORS")
          return `Win! ${playerSelection} beats ${computerSelection}`;
        else
          return `Loss! ${playerSelection} loses to ${computerSelection}`;
      }
      else if (playerSelectionUpper === "PAPER") {
        if (computerSelectionUpper === "ROCK")
          return `Win! ${playerSelection} beats ${computerSelection}`;
        else
          return `Loss! ${playerSelection} loses to ${computerSelection}`;
      }
      else if (playerSelectionUpper === "SCISSORS") {
        if (computerSelectionUpper === "PAPER")
          return `Win! ${playerSelection} beats ${computerSelection}`;
        else
          return `Loss! ${playerSelection} loses to ${computerSelection}`;
      }
      else
        return "Loss and Error. playerSelection invalid.";
    }

    function game() {
      let playerScore = 0;
      let computerScore = 0;
      for (let i = 0; i < 5; i++) {
        let result = playRound(window.prompt(), computerPlay());
        if (result.search("Win") != -1)
          playerScore++;
        else if (result.search("Loss" ) != -1)
          computerScore++;
        console.log(result);
      }
      if (playerScore > computerScore)
        console.log("You win the game!");
      else if (playerScore < computerScore)
        console.log("You lose the game.");
      else
        console.log("The game is a tie!");
    }

    game();
  </script>
</body>
</html>
